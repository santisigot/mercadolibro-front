<div class="home-page">
  <!-- Hero Carousel -->
  <section class="hero-carousel">
    <div class="carousel-track">
      <div 
        class="carousel-slide" 
        *ngFor="let slide of carouselSlides; let i = index"
        [class.active]="i === currentSlide"
        [style.background]="slide.gradient"
      >
        <div class="hero-overlay"></div>
        <div class="container hero-content">
          <div class="content-wrapper">
            <span class="badge">{{ slide.badge }}</span>
            <h1>{{ slide.title }}</h1>
            <p class="lead">{{ slide.subtitle }}</p>
            <button class="btn-primary">{{ slide.buttonText }}</button>
          </div>
          <div class="image-wrapper">
            <div class="image-glow"></div>
            <img [src]="slide.image" [alt]="slide.title" />
          </div>
        </div>
      </div>
    </div>

    <!-- Carousel Controls -->
    <button class="carousel-control prev" (click)="prevSlide()" aria-label="Anterior">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
        <path d="M15 18l-6-6 6-6"/>
      </svg>
    </button>
    <button class="carousel-control next" (click)="nextSlide()" aria-label="Siguiente">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
        <path d="M9 18l6-6-6-6"/>
      </svg>
    </button>

    <!-- Carousel Indicators -->
    <div class="carousel-indicators">
      <button 
        *ngFor="let slide of carouselSlides; let i = index"
        [class.active]="i === currentSlide"
        (click)="goToSlide(i)"
        [attr.aria-label]="'Ir a slide ' + (i + 1)"
      ></button>
    </div>
  </section>

  <!-- Libros Destacados -->
  <section class="section-products">
    <div class="container">
      <div class="section-header">
        <h2>Libros Destacados</h2>
        <a routerLink="/destacados" class="link-view-more">Ver mÃ¡s â†’</a>
      </div>
      <div class="products-grid">
        <div class="product-card" *ngFor="let book of featuredBooks">
          <div class="product-image">
            <span class="badge-discount" *ngIf="book.discount">-{{ book.discount }}%</span>
            <div class="product-actions">
              <button 
                class="btn-icon btn-favorite" 
                [class.active]="isFavorite(book.id)"
                (click)="toggleFavorite(book)"
                aria-label="Agregar a favoritos"
              >
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>
              </button>
              <button class="btn-icon btn-add-to-cart" (click)="addToCart(book)" aria-label="Agregar al carrito">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
              </button>
            </div>
            <img [src]="book.image" [alt]="book.title" />
          </div>
          <div class="product-info">
            <h3 class="product-title">{{ book.title }}</h3>
            <div class="product-pricing">
              <span class="price-original" *ngIf="book.originalPrice">{{ formatPrice(book.originalPrice) }}</span>
              <span class="price-current">{{ formatPrice(book.price) }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- MÃ¡s Vendidos -->
  <section class="section-products bg-light">
    <div class="container">
      <div class="section-header">
        <h2>MÃ¡s Vendidos</h2>
        <a routerLink="/mas-vendidos" class="link-view-more">Ver mÃ¡s â†’</a>
      </div>
      <div class="products-grid">
        <div class="product-card compact" *ngFor="let book of bestSellers">
          <div class="product-image">
            <div class="product-actions">
              <button 
                class="btn-icon btn-favorite" 
                [class.active]="isFavorite(book.id)"
                (click)="toggleFavorite(book)"
                aria-label="Agregar a favoritos"
              >
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>
              </button>
              <button class="btn-icon btn-add-to-cart" (click)="addToCart(book)" aria-label="Agregar al carrito">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
              </button>
            </div>
            <img [src]="book.image" [alt]="book.title" />
          </div>
          <div class="product-info">
            <h3 class="product-title">{{ book.title }}</h3>
            <div class="product-pricing">
              <span class="price-current">{{ formatPrice(book.price) }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Libros Recomendados Carousel -->
  <section class="featured-carousel-section">
    <div class="container">
      <div class="section-header">
        <h2>ðŸ“š Libros Que No Puedes Perderte</h2>
        <p class="section-subtitle">SelecciÃ³n especial de nuestros editores</p>
      </div>
      
      <div class="featured-books-carousel">
        <div class="featured-books-track">
          <div class="featured-book-card" *ngFor="let book of getVisibleFeaturedBooks()">
            <div class="featured-book-badge">{{ book.badge }}</div>
            <div class="featured-book-image">
              <img [src]="book.image" [alt]="book.title" />
            </div>
            <div class="featured-book-info">
              <h3 class="featured-book-title">{{ book.title }}</h3>
              <p class="featured-book-author">{{ book.author }}</p>
              <div class="featured-book-price">{{ formatPrice(book.price) }}</div>
              <button class="btn-add-cart">Agregar al Carrito</button>
            </div>
          </div>
        </div>

        <!-- Featured Carousel Controls -->
        <button class="featured-control prev" (click)="prevCategorySlide()" aria-label="Anterior">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
        <button class="featured-control next" (click)="nextCategorySlide()" aria-label="Siguiente">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </button>
      </div>
    </div>
  </section>

  <!-- Nuevos Lanzamientos -->
  <section class="section-products">
    <div class="container">
      <div class="section-header">
        <h2>Nuevos Lanzamientos</h2>
        <a routerLink="/nuevos" class="link-view-more">Ver mÃ¡s â†’</a>
      </div>
      <div class="products-grid">
        <div class="product-card" *ngFor="let book of newReleases">
          <div class="product-image">
            <div class="product-actions">
              <button 
                class="btn-icon btn-favorite" 
                [class.active]="isFavorite(book.id)"
                (click)="toggleFavorite(book)"
                aria-label="Agregar a favoritos"
              >
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>
              </button>
              <button class="btn-icon btn-add-to-cart" (click)="addToCart(book)" aria-label="Agregar al carrito">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
              </button>
            </div>
            <img [src]="book.image" [alt]="book.title" />
          </div>
          <div class="product-info">
            <h3 class="product-title">{{ book.title }}</h3>
            <div class="product-pricing">
              <span class="price-current">{{ formatPrice(book.price) }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
